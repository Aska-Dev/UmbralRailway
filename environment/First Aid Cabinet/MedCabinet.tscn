[gd_scene format=4 uid="uid://iq04sxfikson"]

[ext_resource type="Texture2D" uid="uid://b7ajbu6fq02wu" path="res://assets/objects/furnituer assets/Home Atlas 1.png" id="1_glgjy"]
[ext_resource type="Script" uid="uid://by1epoc8o8vpj" path="res://environment/First Aid Cabinet/MedCabDoor.cs" id="2_0o16v"]
[ext_resource type="Script" uid="uid://df54utlaa5rxv" path="res://components/InteractionComponent.cs" id="3_5k3sw"]
[ext_resource type="PackedScene" uid="uid://bmuucr6cx3cpt" path="res://environment/Note/Note.tscn" id="4_mkkvx"]
[ext_resource type="AudioStream" uid="uid://cxynwxyknxqn4" path="res://assets/sounds/DoorSqueak/doorSquek.mp3" id="6_kaljh"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_trj5r"]
resource_name = "Atlas 1"
transparency = 4
vertex_color_use_as_albedo = true
albedo_texture = ExtResource("1_glgjy")
emission_enabled = true

[sub_resource type="ArrayMesh" id="ArrayMesh_ipewu"]
_surfaces = [{
"aabb": AABB(-0.35, -0.7500002, -0.5000003, 0.7, 1.5000004, 1.0000006),
"format": 34359742465,
"index_count": 102,
"index_data": PackedByteArray("AAABAAIAAQAAAAMAAQAEAAIAAQADAAQAAAACAAUABQACAAQAAAAGAAMABgAAAAUABgAHAAMABgAFAAcAAwAIAAQACAAFAAQAAwAJAAgABwAJAAMABQAIAAoABQAKAAcACQALAAgACAALAAoADAALAAkACwAMAAoADQAMAAkADAAOAAoADgAMAA0ABwAKAA8ACgAOAA8ACQAHAA8ADwAOAA0ADQAJAA8AEAARABIAEgATABAAEQAQABQAFAAVABEAFgAVABQAFAAXABYA"),
"name": "Atlas 1",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 24,
"vertex_data": PackedByteArray("MzOzvgMAQL/0//8+MzOzvv3/P78FAAC/MzOzvv3/Pz8FAAA/MzOzPv3/P78FAAC/MzOzvgMAQD/0//++MzOzPv3/Pz8FAAA/MzOzPgMAQL/0//8+2oKuPun5Or8mTfk+MzOzPgMAQD/0//++2oKuPuP5Or9BTfm+2oKuPub5Oj88Tfk+2oKuPuz5Oj8sTfm+2oKuvuz5Oj8sTfm+2oKuvuP5Or9BTfm+2oKuvub5Oj88Tfk+2oKuvun5Or8mTfk+MzOzPn3IvTwAAAA/MzOzPk/JvTwAAAC/MzOzvk/JvTwAAAC/MzOzvn3IvTwAAAA/2oKuPsFFLz0zTfk+2oKuPiZGLz00Tfm+2oKuviZGLz00Tfm+2oKuvsFFLz0zTfk+")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_and7q"]
resource_name = "Cube_016"
_surfaces = [{
"aabb": AABB(-0.35, -0.7500002, -0.5000003, 0.7, 1.5000004, 1.0000006),
"attribute_data": PackedByteArray("74j3Pmh8Hj/wbL0+aHweP++I9z7SzuU+72y9PtLO5T4j/qs+0s7lPvBQgz7SzuU+Iv6rPtKkjj7wUIM+0qSOPhEbED9ofB4/74j3Pmh8Hj8RGxA/0s7lPu+I9z7SzuU+VqvUPtLO5T5Vq9Q+0rKrPodY/T7SzuU+h1j9PtKyqz4j/qs+0s7lPiP+qz7Ssqs+VqvUPtLO5T5Wq9Q+0rKrPu+I9z5ofB4/74j3PtLO5T7wbL0+aHweP+9svT7SzuU+I/6rPtLO5T4i/qs+0qSOPvBQgz7SzuU+8FCDPtKkjj4RGxA/aHwePxEbED/SzuU+74j3Pmh8Hj/viPc+0s7lPlar1D7SzuU+h1j9PtLO5T5Vq9Q+0rKrPodY/T7Ssqs+I/6rPtLO5T5Wq9Q+0s7lPiP+qz7Ssqs+VqvUPtKyqz4RGxA/aHwePxEbED/SzuU+ERsQP2h8Hj8RGxA/0s7lPodY/T7Ssqs+h1j9PtKyqz6HWP0+0s7lPodY/T7SzuU+I/6rPtKyqz4j/qs+0s7lPiP+qz7Ssqs+I/6rPtLO5T7wUIM+0s7lPvBQgz7SzuU+8FCDPtKkjj7wUIM+0qSOPodY/T7Ssqs+h1j9PtLO5T5Wq9Q+0s7lPlWr1D7Ssqs+h1j9PtKyqz5Vq9Q+0rKrPlar1D7SzuU+h1j9PtLO5T6HWP0+0rKrPodY/T7SzuU+h1j9PtLO5T6HWP0+0rKrPg=="),
"format": 34359742487,
"index_count": 102,
"index_data": PackedByteArray("AAABAAIAAQADAAIABAAFAAYABQAHAAYACAAJAAoACQALAAoADAANAA4ADQAPAA4AEAARABIAEQATABIAFAAVABYAFQAXABYAGAAZABoAGQAbABoAHAAdAB4AHQAfAB4AIAAhACIAIQAjACIAJAAlACYAJQAnACYAKAApACoAKQArACoALAAtAC4ALQAvAC4AMAAxADIAMQAzADIANAA1ADYANQA3ADYAOAA5ADoAOgA7ADgAPAA9AD4APgA/ADwAQABBAEIAQgBDAEAA"),
"material": SubResource("StandardMaterial3D_trj5r"),
"name": "Atlas 1",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 68,
"vertex_data": PackedByteArray("MzOzvgMAQL/0//8+MzOzvv3/P78FAAC/MzOzvv3/Pz8FAAA/MzOzvgMAQD/0//++MzOzvv3/P78FAAC/MzOzPv3/P78FAAC/MzOzvgMAQD/0//++MzOzPgMAQD/0//++MzOzPgMAQL/0//8+MzOzvgMAQL/0//8+MzOzPv3/Pz8FAAA/MzOzvv3/Pz8FAAA/MzOzvv3/P78FAAC/MzOzvgMAQL/0//8+MzOzPv3/P78FAAC/MzOzPgMAQL/0//8+MzOzPgMAQD/0//++MzOzPv3/Pz8FAAA/MzOzvgMAQD/0//++MzOzvv3/Pz8FAAA/2oKuvun5Or8mTfk+2oKuvub5Oj88Tfk+2oKuvuP5Or9BTfm+2oKuvuz5Oj8sTfm+2oKuvuP5Or9BTfm+2oKuvuz5Oj8sTfm+2oKuPuP5Or9BTfm+2oKuPuz5Oj8sTfm+2oKuPun5Or8mTfk+2oKuPub5Oj88Tfk+2oKuvun5Or8mTfk+2oKuvub5Oj88Tfk+2oKuvuP5Or9BTfm+2oKuPuP5Or9BTfm+2oKuvun5Or8mTfk+2oKuPun5Or8mTfk+2oKuPuz5Oj8sTfm+2oKuvuz5Oj8sTfm+2oKuPub5Oj88Tfk+2oKuvub5Oj88Tfk+MzOzPgMAQL/0//8+MzOzPv3/Pz8FAAA/2oKuPun5Or8mTfk+2oKuPub5Oj88Tfk+MzOzPgMAQL/0//8+2oKuPun5Or8mTfk+MzOzPv3/P78FAAC/2oKuPuP5Or9BTfm+MzOzPv3/Pz8FAAA/MzOzPgMAQD/0//++2oKuPub5Oj88Tfk+2oKuPuz5Oj8sTfm+MzOzPv3/P78FAAC/2oKuPuP5Or9BTfm+MzOzPgMAQD/0//++2oKuPuz5Oj8sTfm+MzOzPn3IvTwAAAA/MzOzPk/JvTwAAAC/MzOzvk/JvTwAAAC/MzOzvn3IvTwAAAA/2oKuPsFFLz0zTfk+2oKuvsFFLz0zTfk+2oKuviZGLz00Tfm+2oKuPiZGLz00Tfm+2oKuPsFFLz0zTfk+2oKuPiZGLz00Tfm+MzOzPk/JvTwAAAC/MzOzPn3IvTwAAAA/AAD/f/9//78AAP9//3//vwAA/3//f/+/AAD/f/9//7/+////AAD/v/7///8AAP+//v///wAA/7/+////AAD/v/9//3////+//3//f////7//f/9/////v/9//3////+//38AAP///7//fwAA////v/9/AAD///+//38AAP///7//f/7/AAD/v/9//v8AAP+//3/+/wAA/7//f/7/AAD/v////3//f/8/////f/9//z////9//3//P////3//f/8//3//fwAA/z//f/9/AAD/P/9//38AAP8//3//fwAA/z/+////////P/7///////8//v///////z/+////////P/9//v////8//3/+/////z//f/7/////P/9//v////8//38AAAAA/z//fwAAAAD/P/9/AAAAAP8//38AAAAA/z/+/7O0////v/7/s7T///+//v+ztP///7/+/7O0////v0XXuaj///8/Rde5qP///z9F17mo////P0XXuaj///8/RNdFV////79E10VX////v0TXRVf///+/RNdFV////79Ky/9/////P0rL/3////8/Ssv/f////z9Ky/9/////P/9/AAD///+//38AAP///7//fwAA////v/9/AAD///+//3/+/////z//f/7/////P/9//v////8//3/+/////z9E17mo////P0TXuaj///8/RNe5qP///z9E17mo////Pw==")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_ipewu")

[sub_resource type="ArrayMesh" id="ArrayMesh_7oshh"]
_surfaces = [{
"aabb": AABB(0.0009162128, -0.83687544, -1.0000267, 0.032367047, 1.4999999, 1),
"format": 34359742465,
"index_count": 36,
"index_data": PackedByteArray("BQAAAAYABQAGAAcAAAAEAAYABQAHAAIAAAAFAAIABgABAAcABgAEAAEABwABAAIABAAAAAMABAADAAEAAAACAAMAAQADAAIA"),
"lods": [0.7133284, PackedByteArray("AAABAAIAAQADAAIAAAACAAMABAADAAEABAAAAAMAAAAEAAEA")],
"name": "Atlas 1",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 8,
"vertex_data": PackedByteArray("B1QIPXg9Vr+S6t+3AC5wOobCKT/gAIC/AC5wOng9Vr+S6t+3AC5wOobCKT/7EOC3B1QIPYbCKT/7EOC3B1QIPXg9Vr/gAIC/B1QIPYbCKT/gAIC/AC5wOng9Vr/gAIC/")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_whs8j"]
resource_name = "Cube_027"
_surfaces = [{
"aabb": AABB(0.0009162128, -0.83687544, -1.0000267, 0.032367047, 1.4999999, 1),
"attribute_data": PackedByteArray("8FCDPmh8Hj/vbL0+0s7lPvBQgz5ofB4/8FCDPtLO5T7wUIM+0s7lPu9svT5ofB4/72y9PtLO5T7vbL0+aHwePw=="),
"format": 34359742487,
"index_count": 36,
"index_data": PackedByteArray("BQAAAAYABQAGAAcAAAAEAAYABQAHAAIAAAAFAAIABgABAAcABgAEAAEABwABAAIABAAAAAMABAADAAEAAAACAAMAAQADAAIA"),
"lods": [0.7133284, PackedByteArray("AAABAAIAAQADAAIAAAACAAMABAADAAEABAAAAAMAAAAEAAEA")],
"material": SubResource("StandardMaterial3D_trj5r"),
"name": "Atlas 1",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 8,
"vertex_data": PackedByteArray("B1QIPXg9Vr+S6t+3AC5wOobCKT/gAIC/AC5wOng9Vr+S6t+3AC5wOobCKT/7EOC3B1QIPYbCKT/7EOC3B1QIPXg9Vr/gAIC/B1QIPYbCKT/gAIC/AC5wOng9Vr/gAIC/qqpVVf/f/49KxWX1////v1RVVFX///8/VVWpqv///z+pqqqq////P7M6mgorxjkFsTpj9SnGxXpNxZkK////vw==")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_7oshh")

[sub_resource type="BoxShape3D" id="BoxShape3D_glgjy"]
size = Vector3(0.052612305, 1.5107346, 1)

[sub_resource type="Animation" id="Animation_glgjy"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("..:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../../DoorSound:playing")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_2dxj4"]
resource_name = "close"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("..:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, -2.6899886, 0), Vector3(0, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../../DoorSound:playing")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.01),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_7plsn"]
resource_name = "open"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("..:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, -2.6899886, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../../DoorSound:playing")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.01),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_0o16v"]
_data = {
&"RESET": SubResource("Animation_glgjy"),
&"close": SubResource("Animation_2dxj4"),
&"open": SubResource("Animation_7plsn")
}

[sub_resource type="BoxShape3D" id="BoxShape3D_2dxj4"]
size = Vector3(0.6734619, 1.5070801, 1)

[node name="First Aid Cabinet" type="MeshInstance3D" unique_id=282445488]
mesh = SubResource("ArrayMesh_and7q")

[node name="First Aid Door" type="MeshInstance3D" parent="." unique_id=289832266]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.34908366, 0.08687516, 0.50001955)
mesh = SubResource("ArrayMesh_whs8j")

[node name="Door" type="StaticBody3D" parent="First Aid Door" unique_id=1503868551]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.34908366, -0.08687516, -0.50001955)
collision_layer = 2
collision_mask = 0
script = ExtResource("2_0o16v")

[node name="CollisionShape3D" type="CollisionShape3D" parent="First Aid Door/Door" unique_id=1431764686]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.36810318, -0.00051498413, 0)
shape = SubResource("BoxShape3D_glgjy")

[node name="InteractionComponent" type="Node" parent="First Aid Door/Door" unique_id=1042726253]
script = ExtResource("3_5k3sw")
InteractionMessage = "Press [F] to open"
metadata/_custom_type_script = "uid://df54utlaa5rxv"

[node name="AnimationPlayer" type="AnimationPlayer" parent="First Aid Door" unique_id=9094186]
root_node = NodePath("../Door")
libraries/ = SubResource("AnimationLibrary_0o16v")

[node name="Note" parent="First Aid Door" unique_id=1499434902 instance=ExtResource("4_mkkvx")]
transform = Transform3D(0.0012565255, -1.9998032, 0.028029757, 0.064687856, -0.027974462, -1.9987578, 1.9989532, 0.0021622777, 0.06466392, -0.00072836876, -0.044863872, -0.4998138)
Content = "DO NOT 
TAKE THE PILLS !"

[node name="Cabinet" type="StaticBody3D" parent="." unique_id=1341346853]
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Cabinet" unique_id=27637384]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.014343262, 0.00012207031, 0)
shape = SubResource("BoxShape3D_2dxj4")

[node name="DoorSound" type="AudioStreamPlayer" parent="." unique_id=2073535790]
stream = ExtResource("6_kaljh")

[connection signal="OnInteraction" from="First Aid Door/Door/InteractionComponent" to="First Aid Door/Door" method="OnInteract"]
